<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Healthcare App</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f9f9f9;
      padding: 20px;
    }
    .hidden {
      display: none;
    }
    .form-step {
      background: #fff;
      padding: 20px;
      margin-bottom: 10px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    button {
      padding: 10px 20px;
      margin-top: 10px;
    }
    input.error {
      border: 2px solid #ff4d4d;
      background-color: #ffe6e6;
    }
    @keyframes shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-4px); }
      50% { transform: translateX(4px); }
      75% { transform: translateX(-4px); }
      100% { transform: translateX(0); }
    }
    .shake {
      animation: shake 0.3s ease;
    }
  </style>
</head>

<body>
  <div class="form-step" id="step1">
    <h2>Welcome to the Healthcare App</h2>
    <p>Enter your name:</p>
    <input type="text" id="username" oninput="checkInputs()">
    <p>Select your gender:</p>
    <label><input type="radio" name="gender" value="male" onclick="selectGender('male')"> Male</label>
    <label><input type="radio" name="gender" value="female" onclick="selectGender('female')"> Female</label>
    <p id="inputError" style="color:red;"></p>
    <button id="next-btn" onclick="goToChoice()" disabled>Next</button>
  </div>

  <div class="form-step hidden" id="step2">
    <h2 id="greeting"></h2>
    <p>Select a health option:</p>
    <button onclick="goToBMI()">BMI Calculator</button>
    <button onclick="goToPulse()">Check Pulse Rate</button>
    <button onclick="goToTemp()">Check Body Temperature</button>
    <button onclick="goToSleep()">Sleep Cycle Info</button>
    <p id="dailyTip"></p>
  </div>

  <div class="form-step hidden" id="bmiSection">
    <h3>BMI Calculator</h3>
    <input type="number" id="height" placeholder="Height (cm)">
    <input type="number" id="weight" placeholder="Weight (kg)">
    <button onclick="calculateBMI()">Calculate</button>
    <p id="bmiResult"></p>
    <p id="bmiStatus"></p>
    <button onclick="backToChoice()">Back</button>
  </div>

  <div class="form-step hidden" id="pulseSection">
    <h3>Pulse Rate Checker</h3>
    <p>Place your finger on your wrist and count beats for 15 seconds.</p>
    <input type="number" id="pulse" placeholder="Beats in 15 seconds">
    <button onclick="checkPulse()">Check</button>
    <p id="pulseResult"></p>
    <button onclick="backToChoice()">Back</button>
  </div>

  <div class="form-step hidden" id="tempSection">
    <h3>Body Temperature Checker</h3>
    <input type="number" id="temp" placeholder="Enter your temperature (Â°C)">
    <button onclick="checkTemp()">Check</button>
    <p id="tempResult"></p>
    <button onclick="backToChoice()">Back</button>
  </div>

  <div class="form-step hidden" id="sleepSection">
    <h3>Sleep Cycle</h3>
    <input type="number" id="sleep" placeholder="Hours of sleep">
    <button onclick="checkSleep()">Check</button>
    <p id="sleepResult"></p>
    <button onclick="backToChoice()">Back</button>
  </div>

  <script>
    let userName = "";
    let userGender = "";

    function checkInputs() {
      const nameInput = document.getElementById("username");
      const nextBtn = document.getElementById("next-btn");

      if (nameInput.value.trim() && userGender) {
        nextBtn.disabled = false;
        nameInput.classList.remove("error");
      } else {
        nextBtn.disabled = true;
        if (!nameInput.value.trim()) {
          nameInput.classList.add("error");
        } else {
          nameInput.classList.remove("error");
        }
      }
    }

    function selectGender(gender) {
      userGender = gender;
      checkInputs();
    }

    function goToChoice() {
      const nameInput = document.getElementById("username");
      const errorBox = document.getElementById("inputError");
      let hasError = false;

      if (!nameInput.value.trim()) {
        nameInput.classList.add("error");
        nameInput.classList.add("shake");
        hasError = true;
      }

      if (!userGender) {
        errorBox.textContent = "Please select your gender.";
        hasError = true;
      } else {
        errorBox.textContent = "";
      }

      if (hasError) {
        setTimeout(() => nameInput.classList.remove("shake"), 400);
        return;
      }

      errorBox.textContent = "";
      userName = nameInput.value.trim();
      document.getElementById("step1").classList.add("hidden");
      document.getElementById("step2").classList.remove("hidden");
      document.getElementById("greeting").textContent = `Hi, ${userName}! ðŸ‘‹`;
      displayDailyTip();
    }

    function backToChoice() {
      document.querySelectorAll('.form-step').forEach(step => step.classList.add('hidden'));
      document.getElementById("step2").classList.remove("hidden");
    }

    function goToBMI() {
      document.getElementById("step2").classList.add("hidden");
      document.getElementById("bmiSection").classList.remove("hidden");
    }

    function goToPulse() {
      document.getElementById("step2").classList.add("hidden");
      document.getElementById("pulseSection").classList.remove("hidden");
    }

    function goToTemp() {
      document.getElementById("step2").classList.add("hidden");
      document.getElementById("tempSection").classList.remove("hidden");
    }

    function goToSleep() {
      document.getElementById("step2").classList.add("hidden");
      document.getElementById("sleepSection").classList.remove("hidden");
    }

    function calculateBMI() {
      const heightInput = document.getElementById("height");
      const weightInput = document.getElementById("weight");
      const h = parseFloat(heightInput.value);
      const w = parseFloat(weightInput.value);

      heightInput.classList.remove("error");
      weightInput.classList.remove("error");

      if (!h || h <= 0) heightInput.classList.add("error");
      if (!w || w <= 0) weightInput.classList.add("error");
      if (!h || !w || h <= 0 || w <= 0) {
        alert("Invalid height or weight");
        return;
      }

      const bmi = (w / ((h / 100) ** 2)).toFixed(1);
      let status = bmi < 18.5 ? "Underweight" : bmi < 25 ? "Normal" : bmi < 30 ? "Overweight" : "Obese";
      document.getElementById("bmiResult").textContent = `${userName}, your BMI is ${bmi}`;
      document.getElementById("bmiStatus").textContent = status;
    }

    function checkPulse() {
      const pulse = parseInt(document.getElementById("pulse").value);
      const result = document.getElementById("pulseResult");
      if (isNaN(pulse) || pulse <= 0) {
        result.textContent = "Please enter a valid number.";
        return;
      }
      const bpm = pulse * 4;
      result.textContent = `${userName}, your heart rate is ${bpm} bpm.`;
    }

    function checkTemp() {
      const temp = parseFloat(document.getElementById("temp").value);
      const result = document.getElementById("tempResult");
      if (isNaN(temp)) {
        result.textContent = "Please enter a valid temperature.";
        return;
      }
      if (temp < 36) {
        result.textContent = "Low body temperature.";
      } else if (temp > 37.5) {
        result.textContent = "High body temperature.";
      } else {
        result.textContent = "Normal body temperature.";
      }
    }

    function checkSleep() {
      const sleep = parseFloat(document.getElementById("sleep").value);
      const result = document.getElementById("sleepResult");
      if (isNaN(sleep)) {
        result.textContent = "Please enter your hours of sleep.";
        return;
      }
      if (sleep < 6) {
        result.textContent = "You need more sleep.";
      } else if (sleep > 9) {
        result.textContent = "You may be oversleeping.";
      } else {
        result.textContent = "You have a healthy sleep duration.";
      }
    }

    function displayDailyTip() {
      const tips = [
        "Drink plenty of water.",
        "Get at least 8 hours of sleep.",
        "Exercise regularly.",
        "Eat more fruits and vegetables.",
        "Take short breaks during work."
      ];
      const tip = tips[Math.floor(Math.random() * tips.length)];
      document.getElementById("dailyTip").textContent = `ðŸ’¡ Daily Tip: ${tip}`;
    }
  </script>
</body>

</html>
